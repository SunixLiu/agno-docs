---
title: æå‰ç»ˆæ­¢
sidebarTitle: æå‰ç»ˆæ­¢
description: å¦‚ä½•æå‰ç»ˆæ­¢å·¥ä½œæµ
mode: wide
---

å½“æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ï¼Œå·¥ä½œæµæ”¯æŒæå‰ç»ˆæ­¢ï¼Œä»è€Œé¿å…ä¸å¿…è¦çš„å¤„ç†å¹¶å®ç°å®‰å…¨é˜²æŠ¤ã€‚ä»»ä½•æ­¥éª¤éƒ½å¯ä»¥é€šè¿‡è¿”å› `StepOutput(stop=True)` æ¥è§¦å‘æå‰ç»ˆæ­¢ï¼Œç«‹å³åœæ­¢æ•´ä¸ªå·¥ä½œæµçš„æ‰§è¡Œã€‚

<img 
  className="block dark:hidden" 
  src="/images/workflows-early-stop-light.png" 
  alt="Workflows early stop diagram"
/>
<img 
  className="hidden dark:block" 
  src="/images/workflows-early-stop.png" 
  alt="Workflows early stop diagram"
/>

## ç¤ºä¾‹

```python
from agno.workflow import Step, Workflow, StepInput, StepOutput

def security_gate(step_input: StepInput) -> StepOutput:
    """Security gate that stops deployment if vulnerabilities found"""
    security_result = step_input.previous_step_content or ""
    
    if "VULNERABLE" in security_result.upper():
        return StepOutput(
            content="ğŸš¨ SECURITY ALERT: Critical vulnerabilities detected. Deployment blocked.",
            stop=True  # Stop the entire workflow
        )
    else:
        return StepOutput(
            content="âœ… Security check passed. Proceeding with deployment...",
            stop=False
        )

# Secure deployment pipeline
workflow = Workflow(
    name="Secure Deployment Pipeline",
    steps=[
        Step(name="Security Scan", agent=security_scanner),
        Step(name="Security Gate", executor=security_gate),  # May stop here
        Step(name="Deploy Code", agent=code_deployer),       # Only if secure
        Step(name="Setup Monitoring", agent=monitoring_agent), # Only if deployed
    ]
)

# Test with vulnerable code - workflow stops at security gate
workflow.print_response("Scan this code: exec(input('Enter command: '))")
```

## å¼€å‘è€…èµ„æº

- [æå‰ç»ˆæ­¢](/zh/basics/workflows/usage/early-stop-workflow)