---
title: é™„åŠ æ•°æ®å’Œå…ƒæ•°æ®
sidebarTitle: ä¼ é€’é™„åŠ æ•°æ®
description: å¦‚ä½•å‘å·¥ä½œæµä¼ é€’é™„åŠ æ•°æ®
mode: wide
---

**ä½¿ç”¨åœºæ™¯**
åœ¨ä¸æ‰°ä¹±ä¸»å·¥ä½œæµæ¶ˆæ¯æµçš„æƒ…å†µä¸‹ï¼Œå‘ç‰¹å®šæ­¥éª¤ä¼ é€’å…ƒæ•°æ®ã€é…ç½®æˆ–ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚

**ä¸»è¦ä¼˜åŠ¿**
- **å…³æ³¨ç‚¹åˆ†ç¦»**ï¼šå°†å·¥ä½œæµé€»è¾‘ä¸å…ƒæ•°æ®åˆ†å¼€
- **æ­¥éª¤ç‰¹å®šçš„ä¸Šä¸‹æ–‡**ï¼šåœ¨è‡ªå®šä¹‰å‡½æ•°ä¸­è®¿é—®é™„åŠ ä¿¡æ¯
- **æ¸…æ™°çš„æ¶ˆæ¯æµ**ï¼šä¸»æ¶ˆæ¯ä¿æŒä¸“æ³¨äºå†…å®¹
- **çµæ´»çš„é…ç½®**ï¼šä¼ é€’ç”¨æˆ·ä¿¡æ¯ã€ä¼˜å…ˆçº§ã€è®¾ç½®ç­‰

**è®¿é—®æ¨¡å¼**
ä½¿ç”¨ `step_input.additional_data` ä»¥å­—å…¸å½¢å¼è®¿é—®ä¼ é€’ç»™å·¥ä½œæµçš„æ‰€æœ‰é™„åŠ æ•°æ®ã€‚

## ç¤ºä¾‹

```python
from agno.workflow import Step, Workflow, StepInput, StepOutput

def custom_content_planning_function(step_input: StepInput) -> StepOutput:
    """Custom function that uses additional_data for enhanced context"""
    
    # Access the main workflow message
    message = step_input.input
    previous_content = step_input.previous_step_content
    
    # Access additional_data that was passed with the workflow
    additional_data = step_input.additional_data or {}
    user_email = additional_data.get("user_email", "No email provided")
    priority = additional_data.get("priority", "normal")
    client_type = additional_data.get("client_type", "standard")
    
    # Create enhanced planning prompt with context
    planning_prompt = f"""
        STRATEGIC CONTENT PLANNING REQUEST:
        
        Core Topic: {message}
        Research Results: {previous_content[:500] if previous_content else "No research results"}
        
        Additional Context:
        - Client Type: {client_type}
        - Priority Level: {priority}
        - Contact Email: {user_email}
        
        {"ğŸš¨ HIGH PRIORITY - Expedited delivery required" if priority == "high" else "ğŸ“ Standard delivery timeline"}
        
        Please create a detailed, actionable content plan.
    """
    
    response = content_planner.run(planning_prompt)
    
    enhanced_content = f"""
        ## Strategic Content Plan
        
        **Planning Topic:** {message}
        **Client Details:** {client_type} | {priority.upper()} priority | {user_email}
        
        **Content Strategy:**
        {response.content}
    """
    
    return StepOutput(content=enhanced_content)

# Define workflow with steps
workflow = Workflow(
    name="Content Creation Workflow",
    steps=[
        Step(name="Research Step", team=research_team),
        Step(name="Content Planning Step", executor=custom_content_planning_function),
    ]
)

# Run workflow with additional_data
workflow.print_response(
    input="AI trends in 2024",
    additional_data={
        "user_email": "michael@dundermifflin.com",
        "priority": "high",
        "client_type": "enterprise",
        "budget": "$50000",
        "deadline": "2024-12-15"
    },
    markdown=True,
    stream=True
)
```

## å¼€å‘è€…èµ„æº

- [å¸¦å‡½æ•°å’Œé™„åŠ æ•°æ®çš„æ­¥éª¤](/zh/basics/workflows/usage/step-with-function-additional-data)