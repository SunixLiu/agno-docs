---
title: 异步协作团队
sidebarTitle: 委派给所有成员
description: 该示例演示了一个协作型的 AI 智能体团队，它们共同异步协作，在不同平台上研究课题。
---

<Steps>

  <Step title="创建一个Python文件">
    ```bash
    touch delegate_to_all_members.py
    ```
  </Step>

  <Step title="添加以下代码到你的Python文件">

    ```python delegate_to_all_members.py
    """
    该示例演示了一个协作型的 AI 智能体团队，它们共同协作，在不同平台上研究课题。

    该团队由两位专业智能体组成：
    1. **Reddit 研究员** —— 使用 DuckDuckGo 搜索并分析相关的 Reddit 帖子
    2. **HackerNews 研究员** —— 使用 HackerNews API 搜索并分析相关的 HackerNews 帖子

    智能体通过“协作”模式工作，这意味着它们会：
    - 同时接收相同的任务
    - 通过讨论共同达成共识
    - 由引导讨论的团队负责人进行协调

    团队负责人负责主持讨论，并决定何时达成共识。

    此配置适用于以下场景：
    - 从不同的在线社区获取多样化的观点
    - 跨平台交叉引用信息
    - 让智能体协作形成更全面的分析
    - 通过结构化讨论达成平衡的结论

    """

    import asyncio
    from textwrap import dedent

    from agno.agent import Agent
    from agno.models.openai import OpenAIChat
    from agno.team.team import Team
    from agno.tools.duckduckgo import DuckDuckGoTools
    from agno.tools.hackernews import HackerNewsTools

    reddit_researcher = Agent(
        name="Reddit Researcher",
        role="Research a topic on Reddit",
        model=OpenAIChat(id="gpt-5-mini"),
        tools=[DuckDuckGoTools()],
        add_name_to_context=True,
        instructions=dedent("""
        You are a Reddit researcher.
        You will be given a topic to research on Reddit.
        You will need to find the most relevant posts on Reddit.
        """),
    )

    hackernews_researcher = Agent(
        name="HackerNews Researcher",
        model=OpenAIChat("gpt-5-mini"),
        role="Research a topic on HackerNews.",
        tools=[HackerNewsTools()],
        add_name_to_context=True,
        instructions=dedent("""
        You are a HackerNews researcher.
        You will be given a topic to research on HackerNews.
        You will need to find the most relevant posts on HackerNews.
        """),
    )


    agent_team = Team(
        name="Discussion Team",
        model=OpenAIChat("gpt-5-mini"),
        members=[
            reddit_researcher,
            hackernews_researcher,
        ],
        instructions=[
            "You are a discussion master.",
            "You have to stop the discussion when you think the team has reached a consensus.",
        ],
        delegate_to_all_members=True,
        markdown=True,
        show_members_responses=True,
    )


    async def main():
        """Main async function demonstrating collaborative team mode."""
        await agent_team.aprint_response(
            input="Start the discussion on the topic: 'What is the best way to learn to code?'",
            stream=True,
        )


    if __name__ == "__main__":
        asyncio.run(main())
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="安装依赖项">
    ```bash
    pip install -U agno openai ddgs
    ```
  </Step>

  <Step title="设置 OpenAI API key">

    <CodeGroup>

    ```bash Mac/Linux
export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
$Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup>
  </Step>
  <Step title="运行团队">
    <CodeGroup>
    ```bash Mac
    python delegate_to_all_members.py
    ```
    
    ```bash Windows
    python delegate_to_all_members.py
    ```
    </CodeGroup>
  </Step>

  <Step title="查找所有Cookbooks">
  探索 Agno 仓库中所有可用的Cookbooks。点击下方链接在 GitHub 上查看代码：

  <Link href="https://github.com/agno-agi/agno/tree/main/cookbook/04_teams/async_flows" target="_blank">
    Agno Cookbooks on GitHub
  </Link>
</Step>
</Steps>