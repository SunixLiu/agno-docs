---
title: 输入与输出
sidebarTitle: 概述
description: 了解如何使用类型安全的 Pydantic 模型控制输入和输出，构建可靠、可用于生产环境的系统。
---

Agno 的智能体（Agents）、团队（Teams）和工作流（Workflows）支持多种形式的输入与输出，从简单的基于字符串的交互，到使用 Pydantic 模型进行结构化数据验证。

## 结构化输出

通过 Pydantic 模型生成经过验证、类型安全的输出，为生产系统提供可靠性。结构化输出提供了统一且可预测的响应格式，取代了非结构化的纯文本。

常见用例包括数据提取、分类、内容生成和数据验证。

<Info>
结构化输出可与工具、知识库以及大多数其他 Agno 功能无缝协作。
</Info>

### 智能体示例

```python
from pydantic import BaseModel, Field
from agno.agent import Agent
from agno.models.openai import OpenAIChat

class MovieScript(BaseModel):
    setting: str = Field(..., description="Setting for the movie")
    genre: str = Field(..., description="Genre of the movie")
    storyline: str = Field(..., description="Storyline for the movie")

agent = Agent(
    model=OpenAIChat(id="gpt-5-mini"),
    description="You write movie scripts.",
    output_schema=MovieScript,
)

response = agent.run("Write a movie script about New York")
print(response.content)  # Returns MovieScript object
```

### Team Example

```python
from pydantic import BaseModel
from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.team import Team

class StockReport(BaseModel):
    symbol: str
    company_name: str
    analysis: str

team = Team(
    model=OpenAIChat(id="gpt-5-mini"),
    members=[...],
    output_schema=StockReport,
)

response = team.run("Analyze NVDA stock")
print(response.content)  # Returns StockReport object
```

### Workflow Example

```python
from pydantic import BaseModel
from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.workflow import Step, Workflow

class ResearchFindings(BaseModel):
    summary: str
    insights: list[str]

research_agent = Agent(
    model=OpenAIChat(id="gpt-5-mini"),
    output_schema=ResearchFindings,
)

workflow = Workflow(
    steps=[Step(agent=research_agent)],
)

response = workflow.run("Research AI trends")
print(response.content)  # Returns ResearchFindings object
```

<Tip>
对于不支持结构化输出的模型，Agno 提供了 JSON 模式，该模式会指示模型以 JSON 格式进行响应。虽然其准确性不如原生结构化输出，但 JSON 模式为兼容的模型提供了一种备选方案。你可以在智能体（Agent）、团队（Team）或工作流（Workflow）上设置 `use_json_mode=True` 来启用此功能。
</Tip>

## 结构化输入

智能体（Agents）、团队（Teams）和工作流（Workflows）支持使用 Pydantic 模型或 `TypedDict` 进行结构化输入。可将它们作为 `input` 参数传递给 `run()` 或 `print_response()` 方法。

### 智能体示例

```python
from pydantic import BaseModel, Field
from agno.agent import Agent
from agno.models.openai import OpenAIChat

class ResearchTopic(BaseModel):
    topic: str
    focus_areas: list[str] = Field(description="Areas to focus on")
    sources_required: int = Field(default=5)

agent = Agent(
    model=OpenAIChat(id="gpt-5-mini"),
    tools=[...],
)

agent.run(
    input=ResearchTopic(
        topic="AI",
        focus_areas=["Machine Learning", "LLMs"],
        sources_required=5,
    )
)
```

### 团队示例

```python
from pydantic import BaseModel, Field
from agno.team import Team
from agno.models.openai import OpenAIChat

class ResearchProject(BaseModel):
    project_name: str
    research_topics: list[str] = Field(min_items=1)
    max_sources: int = Field(ge=3, le=20, default=10)

team = Team(
    model=OpenAIChat(id="gpt-5-mini"),
    members=[...],
)

team.run(
    input=ResearchProject(
        project_name="AI Framework Comparison",
        research_topics=["LangChain", "CrewAI", "Agno"],
        max_sources=15,
    )
)
```

### 工作流示例

```python
from pydantic import BaseModel, Field
from agno.workflow import Workflow

class ResearchRequest(BaseModel):
    topic: str = Field(description="Research topic")
    depth: int = Field(description="Research depth (1-10)")

workflow = Workflow(
    steps=[...],
    input_schema=ResearchRequest,
)

workflow.run(
    input=ResearchRequest(
        topic="AI trends 2024",
        depth=8,
    )
)
```

## 类型安全模式

当你同时使用 `input_schema` 和 `output_schema` 时，就创建了一个**类型安全**的组件，实现从输入到输出的端到端类型安全保障——形成一条完全经过验证的数据管道。

## 高级功能

- **[解析模型（Parser Model）](/zh/basics/input-output/agent/usage/parser-model)**：使用另一个模型对主模型的输出进行解析和结构化
- **[输出模型（Output Model）](/zh/basics/input-output/agent/usage/output-model)**：使用另一个模型生成最终输出
- **[输入验证（Input Validation）](/zh/basics/input-output/agent/usage/input-schema-on-agent)**：设置 `input_schema` 以自动验证字典形式的输入
- **[流式传输（Streaming）](/zh/basics/input-output/team/usage/structured-output-streaming)**：结构化输出可与流式传输无缝协作

## 深入了解

<CardGroup cols={3}>
  <Card
    title="智能体使用示例"
    icon="robot"
    iconType="duotone"
    href="/zh/basics/input-output/agent/usage"
  >
    探索智能体（Agents）在结构化输入与输出方面的详细示例。
  </Card>
  <Card
    title="团队使用示例"
    icon="users"
    iconType="duotone"
    href="/zh/basics/input-output/team/usage"
  >
    探索团队（Teams）在结构化输入与输出方面的详细示例。
  </Card>
</CardGroup>
